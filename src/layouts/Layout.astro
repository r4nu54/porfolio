---
import Footer from '@/components/Footer.astro';
import Head from '@/components/Head.astro';
import Navbar from '@/components/Navbar.astro';
import { info } from '@/data/info';

interface Props {
  title?: string;
  description?: string;
  image?: string;
  type?: 'website' | 'article';
  publishedDate?: string;
}

const {
  title = info.title,
  description = info.about,
  image = '/og-image.jpg', // Aseg√∫rate de crear esta imagen
  type = 'website',
  publishedDate,
} = Astro.props;

const canonicalURL = new URL(Astro.url.pathname, Astro.site);
---

<!doctype html>
<html lang='es'>
  <head>
    <meta charset='UTF-8' />
    <meta
      name='viewport'
      content='width=device-width'
    />
    <link
      rel='icon'
      type='image/svg+xml'
      href='/favicon.svg'
    />
    <link
      rel='canonical'
      href={canonicalURL}
    />

    <!-- Primary Meta Tags -->
    <title>{title}</title>
    <meta
      name='title'
      content={title}
    />
    <meta
      name='description'
      content={description}
    />
    <meta
      name='generator'
      content={Astro.generator}
    />

    <!-- Open Graph / Facebook -->
    <meta
      property='og:type'
      content='website'
    />
    <meta
      property='og:url'
      content={canonicalURL}
    />
    <meta
      property='og:title'
      content={title}
    />
    <meta
      property='og:description'
      content={description}
    />
    <meta
      property='og:image'
      content={image}
    />

    <!-- Twitter -->
    <meta
      property='twitter:card'
      content='summary_large_image'
    />
    <meta
      property='twitter:url'
      content={canonicalURL}
    />
    <meta
      property='twitter:title'
      content={title}
    />
    <meta
      property='twitter:description'
      content={description}
    />
    <meta
      property='twitter:image'
      content={image}
    />

    <!-- Otras meta tags importantes -->
    <meta
      name='theme-color'
      content='#ffffff'
      media='(prefers-color-scheme: light)'
    />
    <meta
      name='theme-color'
      content='#000000'
      media='(prefers-color-scheme: dark)'
    />
    <meta
      name='author'
      content={info.name}
    />
    <meta
      name='keywords'
      content='portfolio, desarrollador, programador, software, web'
    />

    <Head
      title={title}
      description={description}
      image={image}
      type={type}
      publishedDate={publishedDate}
    />
  </head>
  <body class='relative'>
    <div
      class='absolute top-0 bottom-0 -z-10 w-full [background:radial-gradient(125%_125%_at_50%_10%,#fff_40%,#63e_100%)] dark:items-center dark:px-5 dark:py-24 dark:[background:radial-gradient(125%_125%_at_50%_10%,#000_40%,#63e_100%)]'>
    </div>
    <Navbar />
    <main class='container'>
      <slot />
    </main>
    <Footer />
  </body>
</html>
